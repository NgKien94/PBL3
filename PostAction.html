<html><head>
    <title>Post Action</title>
    <meta charset="utf-8">
    <link rel="icon" type="image/png" href="Logo.png" sizes="32x32">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

   <style>
    *{
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: Cambria, Cochin, Georgia, Times, 'Times New Roman', serif

}
form{
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;

}
.Choosen{
    display: flex;
    gap:30px;
}
.Choosen label{
    font-weight: 500;
}
.form-group{
    margin-top: 15px;
   
}

.form-group input {
    border-radius: 1px;
}
.form-group input:focus{
    box-shadow: 3px 3px 5px 2px rgb(10, 178, 230);
    transition: all 0.25s linear;
}
.form-group input,textarea{
    font-size: 14px;
    outline: none;
    border-color: #d4c5c5;
    border-radius: 3px;
}
.form-group textarea{
    padding: 5px 7px;
}

.form-group textarea:focus{
    box-shadow: 3px 3px 5px 2px rgb(10, 178, 230);
    border: none;
    outline: none;
    transition: all 0.25s linear;
}
.form-group input[type="checkbox"]:focus, input[type="radio"]:focus{
    box-shadow: 1px 1px 5px 2px rgb(240, 8, 77);

}

   </style>
</head>
<body>
    
<nav class="navbar navbar-expand-sm navbar-dark bg-dark">
        <div class="container-fluid">
            
            <img src="./asset/image/Logo.png" alt="Avatar Logo" onclick="window.location.href='/Home/LogIn'" style="width:150px;" width="50" height="60" class="rounded-pill"> </a>
        </div>
</nav>

<form method="post" class="m-2 p-3 bg-light" enctype="multipart/form-data" asp-action="FourMiddleware">

        <div class="form-group" style="margin-right: 5px;">
            <label for="tieude" style="font-weight: 600;">Tiêu đề  bài viết </label>
            <input class="form-control" style="width: 400px; height: 40px;" type="text" name="tieu_de" value="">
        </div> <!--Kết thúc form-group tiêu đề-->
        
           <div class="form-group" >
              <label style="font-weight: 600;">Chọn một thể loại trong danh sách dưới đây: </label>
                     
              <div class="Choosen">

                <div>
                    <input type="radio" id="quanDiem" name="the_loai" value="Quan điểm" >
                    <label for="quanDiem">Quan điểm</label>
                </div>

                <div>
                    <input type="radio" id="kinhTe" name="the_loai" value="Kinh tế" >
                    <label for="kinhTe">Kinh tế</label>
                </div>

                <div>
                    <input type="radio" id="chinhTri" name="the_loai" value="Chính trị" >
                    <label for="chinhTri">Chính trị</label>
                </div>

                <div>
                    <input type="radio" id="vanHoa" name="the_loai" value="Văn hóa">
                    <label for="vanHoa">Văn hóa</label>
                </div>

              </div> <!--Kết thúc Choosen-->
                    
           </div>      <!--Kết thúc form-group thể loại -->
           
           <div class="form-group" style="margin-right: 140px;">
            <label for="isvideo" style="margin-right: 15px; font-weight: 600;" >Bài viết có phải là video không</label>
            <input type="checkbox" id="isvideo" name="isvideo" value="true" >
        </div>

        <div class="form-group">
            <label for="noidung" style="font-weight: 600;">Nội dung bài viết :</label>
            <br>
            <textarea name="noi_dung" style="width: 400px; height: 200px;"></textarea>
        </div>
 
        <div class="form-group">
            <label for="exampleFormControlFile1">Upload file</label>
            <input name="files" accept="image/*,video/*" type="file" multiple="multiple" class="form-control-file" >
        </div>

        

        <button class="btn-primary" type="submit"  style="width: 100px; height: 40px;background-color: rgb(235, 15, 99); color: white;border-radius: 6px;margin-top: 10px;font-weight: 800;border: none;">Submit</button>
        
</form> <!--Kết thúc form -->

<script>
    function validateForm() {
    var checkbox = document.getElementById('isvideo');
    var fileInput = document.getElementsByName('files')[0];
    var files = fileInput.files;
    
    // Kiểm tra nếu checkbox được chọn
    if(checkbox.checked) {
        // Kiểm tra nếu có nhiều hơn 1 video được chọn
        if(files.length > 1 || (files.length === 1 && files[0].type.indexOf('video') === -1)) {
            alert('Vui lòng chỉ chọn 1 video.');
            return false; // Ngăn không cho form submit
        }
    } else {
        // Kiểm tra nếu có video được chọn
        for(var i = 0; i < files.length; i++) {
            if(files[i].type.indexOf('video') !== -1) {
                alert('Không cho phép tải video khi bạn định dạng không phải video');
                return false; // Ngăn không cho form submit
            }
        }
        if(files.length==0){alert('Vui lòng chọn ảnh');return false;}
    }
    return true; // Cho phép form submit
    }
    
    // Thêm sự kiện onclick vào nút submit
    document.querySelector('.btn-primary').onclick = function(event) {
    // Gọi hàm validateForm và kiểm tra kết quả trả về
    if(!validateForm()) {
        event.preventDefault(); // Ngăn không cho trang web chuyển hướng nếu form không hợp lệ
    } else {
        // Đoạn mã này sẽ chạy nếu form hợp lệ
        // Thay thế 'yourServerEndpoint' bằng URL mà bạn muốn gửi form đến
        window.location.href = 'yourServerEndpoint';
    }
    };
    
</script>

</body>
</html>